# Ticket API

> REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏ (—Ç–∏–∫–µ—Ç–∞–º–∏). –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º NestJS, TypeORM –∏ SQLite.

---

## ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ç–∏–∫–µ—Ç–∞ (`new`, `in-progress`, `done`, `canceled`)
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ä–µ—à–µ–Ω–∏—è
- –û—Ç–º–µ–Ω–∞ —Ç–∏–∫–µ—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç

---

## üß∞ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **NestJS** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **TypeORM** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **SQLite** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
- **Swagger UI** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
- **TypeScript**

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É server

```bash
cd server
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run start
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:3000](http://localhost:3000)

Swagger UI: [http://localhost:3000/api](http://localhost:3000/api)

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –≤ –ø–∞–ø–∫–µ `client` –µ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π —Å–∫—Ä–∏–ø—Ç `test.js`.
–ï–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é:

```bash
node test.js
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

<table>
<thead>
  <tr>
    <th>–ú–ï–¢–û–î</th>
    <th>–ü–£–¢–¨</th>
    <th>–û–ü–ò–°–ê–ù–ò–ï</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>POST</td>
    <td>/ticket</td>
    <td>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ</td>
  </tr>
  <tr>
    <td>GET</td>
    <td>/ticket</td>
    <td>–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞—â–µ–Ω–∏–π (–º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ <b>status</b>, <b>from</b>, <b>to</b>)</td>
  </tr>
  
  <tr>
    <td>GET</td>
    <td>/ticket/:id</td>
    <td>–ü–æ–ª—É—á–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ ID</td>
  </tr>
  <tr>
    <td>PATCH</td>
    <td>/ticket/:id</td>
    <td>–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—â–µ–Ω–∏—è</td>
  </tr>
  <tr>
    <td>PATCH</td>
    <td>/ticket/:id/resolve</td>
    <td>–ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</td>
  </tr>
  <tr>
    <td>PATCH</td>
    <td>/ticket/:id/cancel</td>
    <td>–û—Ç–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</td>
  </tr>
</tbody>
</table>

## üìã –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞—Ç—å —Ç–∏–∫–µ—Ç

```http
POST /ticket
Content-Type: application/json

{
  "text": "–ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç"
}
```

### –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å

```http
PATCH /ticket/1
Content-Type: application/json

{
  "status": "in-progress"
}
```

### –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–∏–∫–µ—Ç

```http
PATCH /ticket/1/resolve
Content-Type: application/json

{
  "resolutionText": "–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–±—Ä–æ—à–µ–Ω."
}
```

### –û—Ç–º–µ–Ω–∏—Ç—å —Ç–∏–∫–µ—Ç

```http
PATCH /ticket/1/cancel
Content-Type: application/json

{
  "cancellationReason": "–ö–ª–∏–µ–Ω—Ç –æ—Ç–æ–∑–≤–∞–ª –∑–∞—è–≤–∫—É."
}
```

### –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ –∏ —Å—Ç–∞—Ç—É—Å—É

```http
GET /ticket?status=done&from=2024-01-01&to=2024-12-31
```

## üì¶ –°—Ç–∞—Ç—É—Å—ã —Ç–∏–∫–µ—Ç–æ–≤

<table>
<thead>
  <tr>
    <th>–°–¢–ê–¢–£–°</th>
    <th>–û–ü–ò–°–ê–ù–ò–ï</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>new</td>
    <td>–ù–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ</td>
  </tr>
  <tr>
    <td>in-progress</td>
    <td>–í —Ä–∞–±–æ—Ç–µ</td>
  </tr>
  <tr>
    <td>done</td>
    <td>–ó–∞–≤–µ—Ä—à–µ–Ω–æ</td>
  </tr>
  <tr>
    <td>canceled</td>
    <td>–û—Ç–º–µ–Ω–µ–Ω–æ</td>
  </tr>
</tbody>
</table>
